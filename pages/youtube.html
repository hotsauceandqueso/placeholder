<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mercury YouTube Watcher</title>
<link rel="stylesheet" href="../style/youtube.css">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
/* Responsive YouTube iframe container */
.player-container {
    width: 90%;
    max-width: 1200px;
    margin: 30px auto;
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
}

.player-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}
</style>
</head>
<body>  

<!-- Particle Canvas -->
<canvas id="particle-canvas"></canvas>

<header>
    <h1>ðŸŽ¥ Mercury YouTube Watcher</h1>
</header>

<main>
    <div class="search-container">
        <input id="search" type="text" placeholder="Search YouTube...">
        <button onclick="searchVideos()">Search</button>
    </div>

    <div class="player-container">
        <!-- No-cookie embed -->
        <iframe id="player" 
            src="https://www.youtube-nocookie.com/embed/AtPO0agf8SY" 
            title="YouTube video player" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
        </iframe>
    </div>

    <div id="results" class="results"></div>
</main>

<footer>
    <p>Powered by YouTube Data API v3</p>
</footer>

<!-- Scripts -->
<script src="../js/youtube.js"></script>
<script src="../js/homepage.js"></script> <!-- reused particle script -->

<script>
    // Search function for search bar
    function searchVideos() {
        const query = document.getElementById('search').value;
        if(query) {
            const url = `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}`;
            window.open(url, '_blank');
        }
    }

    // Trigger search on Enter key
    document.getElementById('search').addEventListener('keydown', function(e) {
        if(e.key === 'Enter') searchVideos();
    });
</script>

</body>
</html>
